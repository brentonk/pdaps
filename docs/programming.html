<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Principles of Programming | Practical Data Analysis for Political Scientists</title>
  <meta name="description" content="These are the course notes for Brenton Kenkel’s course PSCI 8357: Statistics for Political Research II. They may or may not also be useful in their own right." />
  <meta name="generator" content="bookdown 0.17.2 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Principles of Programming | Practical Data Analysis for Political Scientists" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are the course notes for Brenton Kenkel’s course PSCI 8357: Statistics for Political Research II. They may or may not also be useful in their own right." />
  <meta name="github-repo" content="brentonk/pdaps" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Principles of Programming | Practical Data Analysis for Political Scientists" />
  
  <meta name="twitter:description" content="These are the course notes for Brenton Kenkel’s course PSCI 8357: Statistics for Political Research II. They may or may not also be useful in their own right." />
  

<meta name="author" content="Brenton Kenkel" />


<meta name="date" content="2020-02-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Practical Data Analysis for Political Scientists</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About This Book</a></li>
<li class="chapter" data-level="2" data-path="programming.html"><a href="programming.html"><i class="fa fa-check"></i><b>2</b> Principles of Programming</a>
<ul>
<li class="chapter" data-level="2.1" data-path="programming.html"><a href="programming.html#write-programs-for-people-not-computers"><i class="fa fa-check"></i><b>2.1</b> Write Programs for People, Not Computers</a></li>
<li class="chapter" data-level="2.2" data-path="programming.html"><a href="programming.html#let-the-computer-do-the-work"><i class="fa fa-check"></i><b>2.2</b> Let the Computer Do the Work</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Working with Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#loading"><i class="fa fa-check"></i><b>3.1</b> Loading</a></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#tidying"><i class="fa fa-check"></i><b>3.2</b> Tidying</a></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#transforming-and-aggregating"><i class="fa fa-check"></i><b>3.3</b> Transforming and Aggregating</a></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#merging"><i class="fa fa-check"></i><b>3.4</b> Merging</a></li>
<li class="chapter" data-level="3.5" data-path="data.html"><a href="data.html#appendix-creating-the-example-data"><i class="fa fa-check"></i><b>3.5</b> Appendix: Creating the Example Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>4</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="visualization.html"><a href="visualization.html#basic-plots"><i class="fa fa-check"></i><b>4.1</b> Basic Plots</a></li>
<li class="chapter" data-level="4.2" data-path="visualization.html"><a href="visualization.html#saving-plots"><i class="fa fa-check"></i><b>4.2</b> Saving Plots</a></li>
<li class="chapter" data-level="4.3" data-path="visualization.html"><a href="visualization.html#faceting"><i class="fa fa-check"></i><b>4.3</b> Faceting</a></li>
<li class="chapter" data-level="4.4" data-path="visualization.html"><a href="visualization.html#aesthetics"><i class="fa fa-check"></i><b>4.4</b> Aesthetics</a></li>
<li class="chapter" data-level="4.5" data-path="visualization.html"><a href="visualization.html#appendix-creating-the-example-data-1"><i class="fa fa-check"></i><b>4.5</b> Appendix: Creating the Example Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="bivariate.html"><a href="bivariate.html"><i class="fa fa-check"></i><b>5</b> Bivariate Regression</a>
<ul>
<li class="chapter" data-level="5.1" data-path="bivariate.html"><a href="bivariate.html#probability"><i class="fa fa-check"></i><b>5.1</b> Probability Refresher</a></li>
<li class="chapter" data-level="5.2" data-path="bivariate.html"><a href="bivariate.html#the-linear-model"><i class="fa fa-check"></i><b>5.2</b> The Linear Model</a></li>
<li class="chapter" data-level="5.3" data-path="bivariate.html"><a href="bivariate.html#least-squares"><i class="fa fa-check"></i><b>5.3</b> Least Squares</a></li>
<li class="chapter" data-level="5.4" data-path="bivariate.html"><a href="bivariate.html#properties"><i class="fa fa-check"></i><b>5.4</b> Properties</a></li>
<li class="chapter" data-level="5.5" data-path="bivariate.html"><a href="bivariate.html#appendix-regression-in-r"><i class="fa fa-check"></i><b>5.5</b> Appendix: Regression in R</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="matrix.html"><a href="matrix.html"><i class="fa fa-check"></i><b>6</b> Matrix Algebra: A Crash Course</a>
<ul>
<li class="chapter" data-level="6.1" data-path="matrix.html"><a href="matrix.html#vector-operations"><i class="fa fa-check"></i><b>6.1</b> Vector Operations</a></li>
<li class="chapter" data-level="6.2" data-path="matrix.html"><a href="matrix.html#matrix-operations"><i class="fa fa-check"></i><b>6.2</b> Matrix Operations</a></li>
<li class="chapter" data-level="6.3" data-path="matrix.html"><a href="matrix.html#matrix-inversion"><i class="fa fa-check"></i><b>6.3</b> Matrix Inversion</a></li>
<li class="chapter" data-level="6.4" data-path="matrix.html"><a href="matrix.html#solving-linear-systems"><i class="fa fa-check"></i><b>6.4</b> Solving Linear Systems</a></li>
<li class="chapter" data-level="6.5" data-path="matrix.html"><a href="matrix.html#appendix-matrices-in-r"><i class="fa fa-check"></i><b>6.5</b> Appendix: Matrices in R</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ols-matrix.html"><a href="ols-matrix.html"><i class="fa fa-check"></i><b>7</b> Reintroduction to the Linear Model</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ols-matrix.html"><a href="ols-matrix.html#the-linear-model-in-matrix-form"><i class="fa fa-check"></i><b>7.1</b> The Linear Model in Matrix Form</a></li>
<li class="chapter" data-level="7.2" data-path="ols-matrix.html"><a href="ols-matrix.html#the-ols-estimator"><i class="fa fa-check"></i><b>7.2</b> The OLS Estimator</a></li>
<li class="chapter" data-level="7.3" data-path="ols-matrix.html"><a href="ols-matrix.html#vector-valued-random-variables"><i class="fa fa-check"></i><b>7.3</b> Vector-Valued Random Variables</a></li>
<li class="chapter" data-level="7.4" data-path="ols-matrix.html"><a href="ols-matrix.html#properties-of-ols"><i class="fa fa-check"></i><b>7.4</b> Properties of OLS</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="specification.html"><a href="specification.html"><i class="fa fa-check"></i><b>8</b> Specification Issues</a>
<ul>
<li class="chapter" data-level="8.1" data-path="specification.html"><a href="specification.html#categorical-variables"><i class="fa fa-check"></i><b>8.1</b> Categorical Variables</a></li>
<li class="chapter" data-level="8.2" data-path="specification.html"><a href="specification.html#interaction-terms"><i class="fa fa-check"></i><b>8.2</b> Interaction Terms</a></li>
<li class="chapter" data-level="8.3" data-path="specification.html"><a href="specification.html#quadratic-and-logarithmic-terms"><i class="fa fa-check"></i><b>8.3</b> Quadratic and Logarithmic Terms</a></li>
<li class="chapter" data-level="8.4" data-path="specification.html"><a href="specification.html#appendix-nonstandard-specifications-in-r"><i class="fa fa-check"></i><b>8.4</b> Appendix: Nonstandard Specifications in R</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="specification.html"><a href="specification.html#categorical-variables-1"><i class="fa fa-check"></i><b>8.4.1</b> Categorical Variables</a></li>
<li class="chapter" data-level="8.4.2" data-path="specification.html"><a href="specification.html#interaction-terms-1"><i class="fa fa-check"></i><b>8.4.2</b> Interaction Terms</a></li>
<li class="chapter" data-level="8.4.3" data-path="specification.html"><a href="specification.html#quadratic-and-logarithmic-models"><i class="fa fa-check"></i><b>8.4.3</b> Quadratic and Logarithmic Models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="inference.html"><a href="inference.html"><i class="fa fa-check"></i><b>9</b> Drawing Inferences</a>
<ul>
<li class="chapter" data-level="9.1" data-path="inference.html"><a href="inference.html#the-basics-of-hypothesis-testing"><i class="fa fa-check"></i><b>9.1</b> The Basics of Hypothesis Testing</a></li>
<li class="chapter" data-level="9.2" data-path="inference.html"><a href="inference.html#variance-of-ols"><i class="fa fa-check"></i><b>9.2</b> Variance of OLS</a></li>
<li class="chapter" data-level="9.3" data-path="inference.html"><a href="inference.html#single-variable-hypotheses"><i class="fa fa-check"></i><b>9.3</b> Single Variable Hypotheses</a></li>
<li class="chapter" data-level="9.4" data-path="inference.html"><a href="inference.html#multiple-variable-hypotheses"><i class="fa fa-check"></i><b>9.4</b> Multiple Variable Hypotheses</a></li>
<li class="chapter" data-level="9.5" data-path="inference.html"><a href="inference.html#appendix-full-derivation-of-ols-variance"><i class="fa fa-check"></i><b>9.5</b> Appendix: Full Derivation of OLS Variance</a></li>
<li class="chapter" data-level="9.6" data-path="inference.html"><a href="inference.html#appendix-regression-inference-in-r"><i class="fa fa-check"></i><b>9.6</b> Appendix: Regression Inference in R</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="crisis.html"><a href="crisis.html"><i class="fa fa-check"></i><b>10</b> The Statistical Crisis in Science</a>
<ul>
<li class="chapter" data-level="10.1" data-path="crisis.html"><a href="crisis.html#publication-bias"><i class="fa fa-check"></i><b>10.1</b> Publication Bias</a></li>
<li class="chapter" data-level="10.2" data-path="crisis.html"><a href="crisis.html#p-hacking"><i class="fa fa-check"></i><b>10.2</b> <span class="math inline">\(p\)</span>-Hacking</a></li>
<li class="chapter" data-level="10.3" data-path="crisis.html"><a href="crisis.html#what-to-do"><i class="fa fa-check"></i><b>10.3</b> What to Do</a></li>
<li class="chapter" data-level="10.4" data-path="crisis.html"><a href="crisis.html#appendix-r-simulation"><i class="fa fa-check"></i><b>10.4</b> Appendix: R Simulation</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="nonspherical.html"><a href="nonspherical.html"><i class="fa fa-check"></i><b>11</b> Non-Spherical Errors</a>
<ul>
<li class="chapter" data-level="11.1" data-path="nonspherical.html"><a href="nonspherical.html#generalized-least-squares"><i class="fa fa-check"></i><b>11.1</b> Generalized Least Squares</a></li>
<li class="chapter" data-level="11.2" data-path="nonspherical.html"><a href="nonspherical.html#detecting-heteroskedasticity"><i class="fa fa-check"></i><b>11.2</b> Detecting Heteroskedasticity</a></li>
<li class="chapter" data-level="11.3" data-path="nonspherical.html"><a href="nonspherical.html#heteroskedasticity-of-unknown-form"><i class="fa fa-check"></i><b>11.3</b> Heteroskedasticity of Unknown Form</a></li>
<li class="chapter" data-level="11.4" data-path="nonspherical.html"><a href="nonspherical.html#appendix-implementation-in-r"><i class="fa fa-check"></i><b>11.4</b> Appendix: Implementation in R</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="nonspherical.html"><a href="nonspherical.html#generalized-least-squares-1"><i class="fa fa-check"></i><b>11.4.1</b> Generalized Least Squares</a></li>
<li class="chapter" data-level="11.4.2" data-path="nonspherical.html"><a href="nonspherical.html#breusch-pagan-test"><i class="fa fa-check"></i><b>11.4.2</b> Breusch-Pagan Test</a></li>
<li class="chapter" data-level="11.4.3" data-path="nonspherical.html"><a href="nonspherical.html#heteroskedasticity-consistent-standard-errors"><i class="fa fa-check"></i><b>11.4.3</b> Heteroskedasticity-Consistent Standard Errors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="panel.html"><a href="panel.html"><i class="fa fa-check"></i><b>12</b> Clustered and Panel Data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="panel.html"><a href="panel.html#the-linear-model-with-grouped-data"><i class="fa fa-check"></i><b>12.1</b> The Linear Model with Grouped Data</a></li>
<li class="chapter" data-level="12.2" data-path="panel.html"><a href="panel.html#clustered-standard-errors"><i class="fa fa-check"></i><b>12.2</b> Clustered Standard Errors</a></li>
<li class="chapter" data-level="12.3" data-path="panel.html"><a href="panel.html#random-effects"><i class="fa fa-check"></i><b>12.3</b> Random Effects</a></li>
<li class="chapter" data-level="12.4" data-path="panel.html"><a href="panel.html#fixed-effects"><i class="fa fa-check"></i><b>12.4</b> Fixed Effects</a></li>
<li class="chapter" data-level="12.5" data-path="panel.html"><a href="panel.html#appendix-implementation-in-r-1"><i class="fa fa-check"></i><b>12.5</b> Appendix: Implementation in R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Practical Data Analysis for Political Scientists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programming" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Principles of Programming</h1>
<p>It may seem strange to begin a statistics class with two weeks on programming. It is strange. Here is why I have made this strange choice.</p>
<p>First, as a working social scientist, most of the time you spend on data analysis won’t be on the <em>analysis</em> part. It’ll be on obtaining and cleaning the data, to get it in a form that makes sense to analyze. Good programming skills will let you spend less time cleaning data and more time publishing papers.</p>
<p>Second, even if you don’t want to develop good programming habits, journals are going to force you to. Every reputable political science journal requires that you provide replication scripts, and some of the best (e.g., <em>American Journal of Political Science</em>) have begun auditing the replication materials as a condition of publication. Better to learn The Right Way now when you have lots of time than to be forced to when you’re writing a dissertation or on the market or teaching your own courses.</p>
<p>Third, while I feel embarrassed to invoke the cliché that is Big Data, that doesn’t mean it’s not a real thing. Political scientists have access to more data and more computing power than ever before. You can’t collect, manage, clean, and analyze large quantities of data without understanding the basic principles of programming.</p>
<p>As <span class="citation">Bowers (<a href="#ref-Bowers:2011ua" role="doc-biblioref">2011</a>)</span> puts it, “Data analysis is computer programming.” By getting a PhD in political science,<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> by necessity you’re going to become a computer programmer. The choice before you is whether to be a good one or a bad one.</p>
<p><span class="citation">Wilson et al. (<a href="#ref-Wilson:2014ck" role="doc-biblioref">2014</a>)</span> list eight “best practices for scientific computing.” The first two encapsulate most of what you need to know:</p>
<ol style="list-style-type: decimal">
<li>Write programs for people, not computers.</li>
<li>Let the computer do the work.</li>
</ol>
<div id="write-programs-for-people-not-computers" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Write Programs for People, Not Computers</h2>
<p>The first two words here—<em>write programs</em>—are crucial. When you are doing analysis for a research project, you should be writing and running scripts, not typing commands into the R (or Stata) console. The console is ephemeral, but scripts are forever, at least if you save them.</p>
<p>Like the manuscripts you will write to describe your findings, your analysis scripts are a form of scientific communication. You wouldn’t write a paper that is disorganized, riddled with grammatical errors, or incomprehensible to anyone besides yourself. Don’t write your analysis scripts that way either.</p>
<p>I personally prefer each script to be self-contained, ideally accomplishing one major task. A typical breakdown of scripts for a project of mine looks like:</p>
<ul>
<li><code>0-download.r</code>: downloads the data</li>
<li><code>1-clean.r</code>: cleans the data</li>
<li><code>2-run.r</code>: runs the main analysis</li>
<li><code>3-figs.r</code>: generates figures</li>
</ul>
<p>The exact structure varies depending on the nature of the project. Notice that the scripts are numbered in the order they should be run.</p>
<p>Using an omnibus script that runs every bit of analysis is like writing a paper without paragraph breaks. And if portions of your analysis take a long time to run, an omnibus file at best is unwieldy to work with and at worst causes you to lose valuable time.</p>
<p>Within each script, write the code to make it as easy as possible for your reader to follow what you’re doing. You should indent your code according to style conventions such as <a href="https://style.tidyverse.org/" class="uri">https://style.tidyverse.org/</a>. Even better, use the <code>Code -&gt; Reindent Lines</code> menu option in R Studio to automatically indent according to a sane style.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="programming.html#cb1-1"></a><span class="co"># Terrible</span></span>
<span id="cb1-2"><a href="programming.html#cb1-2"></a>my_results&lt;-<span class="kw">c</span>(<span class="kw">mean</span>(variable),<span class="kw">quantile</span>(variable,<span class="dt">probs=</span><span class="fl">0.25</span>),<span class="kw">max</span>(variable))</span>
<span id="cb1-3"><a href="programming.html#cb1-3"></a></span>
<span id="cb1-4"><a href="programming.html#cb1-4"></a><span class="co"># Bad</span></span>
<span id="cb1-5"><a href="programming.html#cb1-5"></a>my_results &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">mean</span>(variable),</span>
<span id="cb1-6"><a href="programming.html#cb1-6"></a><span class="kw">quantile</span>(variable,</span>
<span id="cb1-7"><a href="programming.html#cb1-7"></a><span class="dt">probs =</span> <span class="fl">0.25</span>),</span>
<span id="cb1-8"><a href="programming.html#cb1-8"></a><span class="kw">max</span>(variable))</span>
<span id="cb1-9"><a href="programming.html#cb1-9"></a></span>
<span id="cb1-10"><a href="programming.html#cb1-10"></a><span class="co"># Better</span></span>
<span id="cb1-11"><a href="programming.html#cb1-11"></a>my_results &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">mean</span>(variable),</span>
<span id="cb1-12"><a href="programming.html#cb1-12"></a>                <span class="kw">quantile</span>(variable,</span>
<span id="cb1-13"><a href="programming.html#cb1-13"></a>                         <span class="dt">probs =</span> <span class="fl">0.25</span>),</span>
<span id="cb1-14"><a href="programming.html#cb1-14"></a>                <span class="kw">max</span>(variable))</span></code></pre></div>
<p>Another way to make your code readable—one that, unfortunately, cannot be accomplished quite so algorithmically—is to add explanatory comments. The point of comments is not to document how the language works. The following comment is an extreme example of a useless comment.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="programming.html#cb2-1"></a><span class="co"># Take the square root of the errors and assign them to</span></span>
<span id="cb2-2"><a href="programming.html#cb2-2"></a><span class="co"># the output variable</span></span>
<span id="cb2-3"><a href="programming.html#cb2-3"></a>output &lt;-<span class="st"> </span><span class="kw">sqrt</span>(errors)</span></code></pre></div>
<p>A better use for the comment would be to explain <em>why</em> you’re taking the square root of the errors, at least if your purpose in doing so would be unclear to a hypothetical reader of the code.</p>
<p>My basic heuristic for code readability is <em>If I got hit by a bus tomorrow, could one of my coauthors figure out what the hell I was doing and finish the paper?</em></p>
</div>
<div id="let-the-computer-do-the-work" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Let the Computer Do the Work</h2>
<p>Computers are really good at structured, repetitive tasks. If you ever find yourself entering the same thing into the computer over and over again, you are Doing It Wrong. Your job as the human directing the computer is to figure out the structure that underlies the repeated task and to program the computer to do the repetition.</p>
<p>For example, imagine you have just run a large experiment and you want to estimate effects across subgroups.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> Your respondents differ across four variables—party ID (R or D), gender (male or female), race (white or nonwhite), and education (college degree or not)—giving you 16 subgroups. You <em>could</em> copy and paste your code to estimate the treatment effect 16 times. But this is a bad idea for a few reasons.</p>
<ul>
<li><p>Copy-paste doesn’t scale. Copy-paste is managable (albeit misguided) for 16 iterations, but probably not for 50 and definitely not for more than 100.</p></li>
<li><p>Making changes becomes painful. Suppose you decide to change how you calculate the estimate. Now you have to go back and individually edit 16 chunks of code.</p></li>
<li><p>Copy-paste is error-prone, and insidiously so. If you do the calculation wrong all 16 times, you’ll probably notice. But what if you screwed up for just one or two cases? Are you <em>really</em> going to go through and check that you did everything right in each individual case?</p></li>
</ul>
<p>We’re going to look at the most basic ways to get the computer to repeat structured tasks—functions and control flow statements. To illustrate these, we will use a result you discussed in Stat I: the central limit theorem.</p>
<p>The central limit theorem concerns the approximate normality of the <em>sampling distribution</em> of the sample mean and similar estimators.
You’ll remember that the sampling distribution is the probability distribution of an estimator—loosely speaking, the distribution of the estimates we would get if we could run the estimator on a great many samples from the population of data.
In real life, it’s hard for us to directly observe sampling distributions.
But it’s easy to do on a computer: we can randomly draw many samples from the same population, apply an estimator to each one, and thereby observe its sampling distribution.
This is what we call the <em>Monte Carlo method</em>.</p>
<p>We will observe how the coefficients of a bivariate regression obey the central limit theorem.
Specifically, we will see that their sampling distributions are approximately normal, even if the regressors and the error term have non-normal distributions.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></p>
<p>Let’s consider the sampling distribution of the bivariate regression coefficients from a sample of data <span class="math inline">\((X_n, Y_n)_{n=1}^N\)</span>, where <span class="math inline">\(N = 50\)</span>.
We’ll assume the regressor <span class="math inline">\(X_n\)</span> has an exponential distribution, <span class="math inline">\(X_n \sim \text{Exponential}(\lambda)\)</span>, with rate parameter <span class="math inline">\(\lambda = 0.25\)</span>.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>
And we’ll assume the response <span class="math inline">\(Y_n\)</span> is generated according to a linear model, <span class="math display">\[Y_n = \alpha + \beta X_n + \epsilon_n,\]</span> where <span class="math inline">\(\alpha = 1\)</span>, <span class="math inline">\(\beta = -2\)</span>, and <span class="math inline">\(\epsilon_n \sim U[-5, 5]\)</span>.
To draw a sample from this population, we can use R’s built-in random number sampling functions: <code>rexp</code> for an exponential variable and <code>runif</code> for a uniform.<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="programming.html#cb3-1"></a>n_samp &lt;-<span class="st"> </span><span class="dv">50</span></span>
<span id="cb3-2"><a href="programming.html#cb3-2"></a>x &lt;-<span class="st"> </span><span class="kw">rexp</span>(<span class="dt">n =</span> n_samp, <span class="dt">rate =</span> <span class="fl">0.25</span>)</span>
<span id="cb3-3"><a href="programming.html#cb3-3"></a>y &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="kw">runif</span>(<span class="dt">n =</span> n_samp, <span class="dt">min =</span> <span class="dv">-5</span>, <span class="dt">max =</span> <span class="dv">5</span>)</span></code></pre></div>
<p>You can run a regression on your simulated data the usual way.
(Your output will, in all likelihood, differ from mine here—remember that we are working with random numbers!)</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="programming.html#cb4-1"></a>fit &lt;-<span class="st"> </span><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>x)</span>
<span id="cb4-2"><a href="programming.html#cb4-2"></a><span class="kw">summary</span>(fit)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ x)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.7628 -2.5853 -0.6533  2.8858  5.0777 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   1.9528     0.7303   2.674   0.0102 *  
## x            -2.2531     0.1495 -15.068   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.077 on 48 degrees of freedom
## Multiple R-squared:  0.8255, Adjusted R-squared:  0.8218 
## F-statistic:   227 on 1 and 48 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>We are interested in the distribution of the OLS coefficients across many samples like this one.
To begin, let’s write a <strong>function</strong> to extract the estimated slope, <span class="math inline">\(\hat{\beta}_1\)</span>, from a bivariate regression.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="programming.html#cb6-1"></a>ols_coef &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</span>
<span id="cb6-2"><a href="programming.html#cb6-2"></a>  fit &lt;-<span class="st"> </span><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>x)</span>
<span id="cb6-3"><a href="programming.html#cb6-3"></a>  cf &lt;-<span class="st"> </span><span class="kw">coef</span>(fit)[<span class="dv">2</span>]</span>
<span id="cb6-4"><a href="programming.html#cb6-4"></a>  <span class="kw">return</span>(cf)</span>
<span id="cb6-5"><a href="programming.html#cb6-5"></a>}</span></code></pre></div>
<p>This code creates a function called <code>ols_coef</code>.
It has two <em>arguments</em>, <code>x</code> (covariate vector) and <code>y</code> (response vector).
It runs a regression of <code>y</code> on <code>x</code> and then <code>return</code>s the OLS slope estimate as the output.
If we run this function on the <code>x</code> and <code>y</code> we just simulated, it should spit out the OLS coefficient we saw earlier.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="programming.html#cb7-1"></a><span class="kw">ols_coef</span>(x, y)</span></code></pre></div>
<pre><code>##         x 
## -2.253125</code></pre>
<p>Remember that we’re interested in the <em>sampling distribution</em> of the OLS coefficients—their probability distribution across all possible samples of <span class="math inline">\(N = 50\)</span> from the population we’ve defined.
We can approximate this distribution by drawing a new sample and calculating the OLS slope many times (e.g., 1000 or more).
This would be infeasible by copy-paste.
Instead, we will use a <strong>for loop</strong> to perform the same operation repeatedly.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="programming.html#cb9-1"></a><span class="co"># Set up a vector to store the output</span></span>
<span id="cb9-2"><a href="programming.html#cb9-2"></a>n_samp &lt;-<span class="st"> </span><span class="dv">50</span>  <span class="co"># Observations per sample</span></span>
<span id="cb9-3"><a href="programming.html#cb9-3"></a>n_replicates &lt;-<span class="st"> </span><span class="dv">1000</span>  <span class="co"># Number of distinct samples to draw</span></span>
<span id="cb9-4"><a href="programming.html#cb9-4"></a>sampling_dist &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NA</span>, n_replicates)</span>
<span id="cb9-5"><a href="programming.html#cb9-5"></a></span>
<span id="cb9-6"><a href="programming.html#cb9-6"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n_replicates) {</span>
<span id="cb9-7"><a href="programming.html#cb9-7"></a>  <span class="co"># Draw sample from defined population</span></span>
<span id="cb9-8"><a href="programming.html#cb9-8"></a>  x &lt;-<span class="st"> </span><span class="kw">rexp</span>(<span class="dt">n =</span> n_samp, <span class="dt">rate =</span> <span class="fl">0.25</span>)</span>
<span id="cb9-9"><a href="programming.html#cb9-9"></a>  y &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="kw">runif</span>(<span class="dt">n =</span> n_samp, <span class="dt">min =</span> <span class="dv">-5</span>, <span class="dt">max =</span> <span class="dv">5</span>)</span>
<span id="cb9-10"><a href="programming.html#cb9-10"></a></span>
<span id="cb9-11"><a href="programming.html#cb9-11"></a>  <span class="co"># Calculate and store OLS slope</span></span>
<span id="cb9-12"><a href="programming.html#cb9-12"></a>  est &lt;-<span class="st"> </span><span class="kw">ols_coef</span>(x, y)</span>
<span id="cb9-13"><a href="programming.html#cb9-13"></a>  sampling_dist[i] &lt;-<span class="st"> </span>est</span>
<span id="cb9-14"><a href="programming.html#cb9-14"></a>}</span></code></pre></div>
<p>Here’s how the for loop works.
We specified <code>i</code> as the name of the index variable, with values <code>1:n_replicates</code>.
The for loop takes each value in the sequence, assigns it to the variable <code>i</code>, then runs the expression in brackets.
In this case, that consists of drawing a sample of data from the same distribution we used before, calculating the OLS estimate of the slope, and storing that estimate as the <code>i</code>’th element of <code>sampling_dist</code>.
After completing the expression in brackets, the for loop moves on to the next element of the given sequence, continuing until it reaches the end.</p>
<p>Let’s take a look at the results and compare them to our expectations.
OLS is unbiased, so we should expect the average estimated slope to be close to the true value of <span class="math inline">\(-2\)</span>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="programming.html#cb10-1"></a><span class="kw">mean</span>(sampling_dist)</span></code></pre></div>
<pre><code>## [1] -1.999707</code></pre>
<p>And, by the CLT, the estimates should be approximately normally distributed.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="programming.html#cb12-1"></a><span class="kw">hist</span>(sampling_dist, <span class="dt">breaks =</span> <span class="dv">25</span>)</span></code></pre></div>
<p><img src="pdaps_files/figure-html/mc-ols-clt-1.png" width="672" /></p>
<p>For loops are fun, but don’t overuse them. Many simple operations are <strong>vectorized</strong> and don’t require a loop. For example, suppose you want to take the square of a sequence of numbers. You could use a for loop …</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="programming.html#cb13-1"></a>input &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">29</span>)</span>
<span id="cb13-2"><a href="programming.html#cb13-2"></a>output &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NA</span>, <span class="kw">length</span>(input))</span>
<span id="cb13-3"><a href="programming.html#cb13-3"></a></span>
<span id="cb13-4"><a href="programming.html#cb13-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(input)) {</span>
<span id="cb13-5"><a href="programming.html#cb13-5"></a>  output[i] &lt;-<span class="st"> </span>input[i]<span class="op">^</span><span class="dv">2</span></span>
<span id="cb13-6"><a href="programming.html#cb13-6"></a>}</span>
<span id="cb13-7"><a href="programming.html#cb13-7"></a></span>
<span id="cb13-8"><a href="programming.html#cb13-8"></a>output</span></code></pre></div>
<pre><code>## [1]   1   9  49 841</code></pre>
<p>… but it’s faster (in terms of computational speed) and easier to just take advantage of vectorization:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="programming.html#cb15-1"></a>input<span class="op">^</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1]   1   9  49 841</code></pre>
<p>Another useful piece of control flow is <strong>if/else statements</strong>. These check a logical condition—an expression whose value is <code>TRUE</code> or <code>FALSE</code>—and run different code depending on the value of the expression. (You may want to catch up on the comparison operators: <code>==</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code>, etc.)</p>
<p>Let’s edit the <code>ols_coef</code> function to allow us to extract the intercept instead of the slope. We’ll add another argument to the function, and implement the option using an if/else statement.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="programming.html#cb17-1"></a>ols_coef &lt;-<span class="st"> </span><span class="cf">function</span>(x, y, <span class="dt">slope =</span> <span class="ot">TRUE</span>) {</span>
<span id="cb17-2"><a href="programming.html#cb17-2"></a>  fit &lt;-<span class="st"> </span><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>x)</span>
<span id="cb17-3"><a href="programming.html#cb17-3"></a></span>
<span id="cb17-4"><a href="programming.html#cb17-4"></a>  <span class="cf">if</span> (slope) {</span>
<span id="cb17-5"><a href="programming.html#cb17-5"></a>    cf &lt;-<span class="st"> </span><span class="kw">coef</span>(fit)[<span class="dv">2</span>]</span>
<span id="cb17-6"><a href="programming.html#cb17-6"></a>  } <span class="cf">else</span> {</span>
<span id="cb17-7"><a href="programming.html#cb17-7"></a>    cf &lt;-<span class="st"> </span><span class="kw">coef</span>(fit)[<span class="dv">1</span>]</span>
<span id="cb17-8"><a href="programming.html#cb17-8"></a>  }</span>
<span id="cb17-9"><a href="programming.html#cb17-9"></a></span>
<span id="cb17-10"><a href="programming.html#cb17-10"></a>  <span class="kw">return</span>(cf)</span>
<span id="cb17-11"><a href="programming.html#cb17-11"></a>}</span></code></pre></div>
<p>Here’s how the <code>if</code>/<code>else</code> block in the middle of the function works.
The first line checks the <code>slope</code> variable.
If it’s <code>TRUE</code>, then it runs the first set of brackets (extract the slope).
If not, then it skips that, and runs the second set of brackets (extract the intercept).</p>
<p>Also notice how we wrote <code>slope = TRUE</code> into the arguments of the function.
This sets <code>TRUE</code> as the default value, so if we call <code>ols_coef()</code> without explicitly specifying the <code>slope</code> argument, it will assume we wanted it to be <code>TRUE</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="programming.html#cb18-1"></a><span class="kw">ols_coef</span>(x, y)</span></code></pre></div>
<pre><code>##         x 
## -2.126934</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="programming.html#cb20-1"></a><span class="kw">ols_coef</span>(x, y, <span class="dt">slope =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>##         x 
## -2.126934</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="programming.html#cb22-1"></a><span class="kw">ols_coef</span>(x, y, <span class="dt">slope =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>## (Intercept) 
##     1.11694</code></pre>
<p>There is a vectorized version of if/else statements called, naturally, the <code>ifelse</code> function. This function takes three arguments, each a vector of the same length: (1) a logical condition, (2) an output value if the condition is <code>TRUE</code>, (3) an output value if the condition is <code>FALSE</code>.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="programming.html#cb24-1"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb24-2"><a href="programming.html#cb24-2"></a>big_x &lt;-<span class="st"> </span>x <span class="op">*</span><span class="st"> </span><span class="dv">100</span></span>
<span id="cb24-3"><a href="programming.html#cb24-3"></a>small_x &lt;-<span class="st"> </span>x <span class="op">*</span><span class="st"> </span><span class="dv">-100</span></span>
<span id="cb24-4"><a href="programming.html#cb24-4"></a></span>
<span id="cb24-5"><a href="programming.html#cb24-5"></a><span class="kw">ifelse</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>, big_x, small_x)</span></code></pre></div>
<pre><code>##  [1] -100 -200 -300 -400 -500  600  700  800  900 1000</code></pre>
<p>Functions, for loops, and if/else statements are just a few of the useful tools for programming in R.<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a> But even these simple tools are enough to allow you to do much more at scale than you could with a copy-paste philosophy.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Bowers:2011ua">
<p>Bowers, Jake. 2011. “Six Steps to a Better Relationship with Your Future Self.” <em>The Political Methodologist</em> 18 (2): 2–8.</p>
</div>
<div id="ref-Wilson:2014ck">
<p>Wilson, Greg, D A Aruliah, C Titus Brown, Neil P Chue Hong, Matt Davis, Richard T Guy, Steven H D Haddock, et al. 2014. “Best Practices for Scientific Computing.” <em>PLOS Biology</em> 12 (1): e1001745.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Or whatever other social science field.<a href="programming.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>There could be statistical problems with this kind of analysis, at least if the subgroups were specified <em>post hoc</em>. See <a href="https://xkcd.com/882/" class="uri">https://xkcd.com/882/</a> (“Significant”). We’re going to leave this issue aside for now, but we’ll return to it later when we discuss the statistical crisis in science.<a href="programming.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>You will hear sometimes that one of the “OLS assumptions” is that the regressors and/or the error term are normally distributed. This is one of the myriad reasons why that claim is false.<a href="programming.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>This is a right-skewed distribution with a mean of <span class="math inline">\(1 / \lambda = 4\)</span> and a variance of <span class="math inline">\(1 / \lambda^2 = 16\)</span>.<a href="programming.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>There are many more distributions available to simulate. See <code>?Distributions</code> in R.<a href="programming.html#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>Others include the <code>replicate</code> function, the <code>apply</code> family of functions (<code>sapply</code>, <code>lapply</code>, <code>tapply</code>, <code>mapply</code>, …), the <strong>foreach</strong> package, the <strong>purrr</strong> package, just to name a few of the most useful off the top of my head.<a href="programming.html#fnref6" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/01-programming.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["pdaps.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
